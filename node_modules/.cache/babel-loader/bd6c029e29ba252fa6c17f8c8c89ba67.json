{"ast":null,"code":"import { compose, createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from './reducers';\nexport default (function (initialState) {\n  initialState = JSON.parse(window.localStorage.getItem('state')) || initialState;\n  var middleware = [thunk];\n  var store = createStore(rootReducer, initialState, compose(applyMiddleware.apply(void 0, middleware)\n  /* window.__REDUX_DEVTOOLS_EXTENSION__ &&\n    window.__REDUX_DEVTOOLS_EXTENSION__() */\n  ));\n  store.subscribe(function () {\n    var state = store.getState();\n    var persist = {\n      cart: state.cart,\n      total: state.total\n    };\n    window.localStorage.setItem('state', JSON.stringify(persist));\n  });\n  return store;\n});","map":{"version":3,"sources":["C:\\Users\\zaper\\week_2_unmodified\\src\\services\\store.js"],"names":["compose","createStore","applyMiddleware","thunk","rootReducer","initialState","JSON","parse","window","localStorage","getItem","middleware","store","subscribe","state","getState","persist","cart","total","setItem","stringify"],"mappings":"AAAA,SAASA,OAAT,EAAkBC,WAAlB,EAA+BC,eAA/B,QAAsD,OAAtD;AACA,OAAOC,KAAP,MAAkB,aAAlB;AACA,OAAOC,WAAP,MAAwB,YAAxB;AAEA,gBAAe,UAAAC,YAAY,EAAI;AAC7BA,EAAAA,YAAY,GACVC,IAAI,CAACC,KAAL,CAAWC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,CAAX,KAAoDL,YADtD;AAEA,MAAMM,UAAU,GAAG,CAACR,KAAD,CAAnB;AAEA,MAAMS,KAAK,GAAGX,WAAW,CACvBG,WADuB,EAEvBC,YAFuB,EAGvBL,OAAO,CACLE,eAAe,MAAf,SAAmBS,UAAnB;AACA;;AAFK,GAHgB,CAAzB;AAUAC,EAAAA,KAAK,CAACC,SAAN,CAAgB,YAAM;AACpB,QAAMC,KAAK,GAAGF,KAAK,CAACG,QAAN,EAAd;AACA,QAAMC,OAAO,GAAG;AACdC,MAAAA,IAAI,EAAEH,KAAK,CAACG,IADE;AAEdC,MAAAA,KAAK,EAAEJ,KAAK,CAACI;AAFC,KAAhB;AAKAV,IAAAA,MAAM,CAACC,YAAP,CAAoBU,OAApB,CAA4B,OAA5B,EAAqCb,IAAI,CAACc,SAAL,CAAeJ,OAAf,CAArC;AACD,GARD;AAUA,SAAOJ,KAAP;AACD,CA1BD","sourcesContent":["import { compose, createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from './reducers';\n\nexport default initialState => {\n  initialState =\n    JSON.parse(window.localStorage.getItem('state')) || initialState;\n  const middleware = [thunk];\n\n  const store = createStore(\n    rootReducer,\n    initialState,\n    compose(\n      applyMiddleware(...middleware)\n      /* window.__REDUX_DEVTOOLS_EXTENSION__ &&\n        window.__REDUX_DEVTOOLS_EXTENSION__() */\n    )\n  );\n\n  store.subscribe(() => {\n    const state = store.getState();\n    const persist = {\n      cart: state.cart,\n      total: state.total\n    };\n\n    window.localStorage.setItem('state', JSON.stringify(persist));\n  });\n\n  return store;\n};\n"]},"metadata":{},"sourceType":"module"}